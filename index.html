<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Password Generator</title>
</head>

<body>
  <header>
    <h1>Password Generator</h1>
  </header>
  <h2>Generate a Password</h2>
  <textarea readonly id="password" placeholder="Your Secure Password" aria-label="Generated Password"></textarea>
  <button id="generate">Generate Password</button>
  <button id="copy">
    Copy to Clipboard
  </button>

  <script>

do{
    var selection = parseInt(window.prompt("Please enter a password length between 8 - 128 characters", ""), 10);
}while(isNaN(selection) || selection > 128 || selection < 8);

console.log(selection)




function generate( length = selection ){
    var uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    var lowercase = 'abcdefghijklmnopqrstuvwxyz';
    var numbers = '0123456789';
    var symbols = '!"#$%&\'()*+,-./:;<=>?@^[\\]^_`{|}~';

    var all = uppercase + lowercase + numbers + symbols;

    var password = '';

    for (var index = 0; index < length; index++) {
        var character = Math.floor(Math.random() * all.length);
        password += all.substring(character, character + 1);
    }

    return password;
}
alert("Your password is " + generate());

// function generatePassword() {
//     var length = 8,
//         charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
//         retVal = "";
//     for (var i = 0, n = charset.length; i < length; ++i) {
//         retVal += charset.charAt(Math.floor(Math.random() * n));
//     }
//     return retVal;
// }
// alert("Your password is " + generatePassword());

    // function generatePassword(passwordLength) {
    //   var numberChars = "0123456789";
    //   var upperChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    //   var lowerChars = "abcdefghijklmnopqrstuvwxyz";
    //   var allChars = numberChars + upperChars + lowerChars;
    //   var randPasswordArray = Array(passwordLength);
    //   randPasswordArray[0] = numberChars;
    //   randPasswordArray[1] = upperChars;
    //   randPasswordArray[2] = lowerChars;
    //   randPasswordArray = randPasswordArray.fill(allChars, 3);
    //   return shuffleArray(randPasswordArray.map(function (x) { return x[Math.floor(Math.random() * x.length)] })).join('');
    // }

    // function shuffleArray(array) {
    //   for (var i = array.length - 1; i > 0; i--) {
    //     var j = Math.floor(Math.random() * (i + 1));
    //     var temp = array[i];
    //     array[i] = array[j];
    //     array[j] = temp;
    //   }
    //   return array;
    // }

    // alert("Your password is " + generatePassword(12));

  </script>


</body>

</html>